# RiderFlow User Flows

## 1. 관리자 초대 및 온보딩

1. 루트 관리자: 본사/지사 정보 입력 및 관리자 이메일로 초대장 발송.
2. 초대 받은 관리자: 이메일 내 초대 링크 클릭.
3. 초대 받은 관리자: 본인의 비밀번호 직접 설정 및 프로필 완성.
4. 시스템: 로그인 처리 및 소속 권한에 맞는 대시보드 노출.

## 2. 라이더 등록 및 상태 관리

1. 지사 관리자: 기사 관리 메뉴에서 기사 추가 (이름, 전화번호, 고유 ID 입력).
2. 시스템: 라이더 정보 저장 및 해당 지사와 `working` 상태로 연결.
3. 지사 관리자: 기사별 상태(근무/휴무)를 수동으로 전환하여 플랜 인원 및 집계 대상 관리.

## 3. 정산 엑셀 업로드 및 처리

1. 지사 관리자: 정산일 선택 및 엑셀 파일 업로드.
2. 시스템: 파일 파싱 및 라이더 매칭 (이름+전화번호+고유ID).
3. 시스템: `daily_settlements` 테이블에 건수, 단가 등 기초 로우 데이터 저장.
4. 시스템: 저장 완료 후 Edge Functions를 실행하여 수익 합계 및 집계 데이터 산출.
5. 지사 관리자: 결과 화면에서 계산된 수익 및 성공/실패 내역 확인.

## 4. 대시보드 통계 확인

1. 관리자: 대시보드 진입 시 Edge Functions가 계산한 최신 집계 데이터 로드.
2. 관리자: 일자별/주간 수익 추이 및 지사별 목표 달성률 시각화 확인.

## 5. 정산 알림 발송 (Placeholder)

1. 시스템: Edge Functions를 통해 정산 데이터를 집계하여 알림용 이미지 생성.
2. 지사 관리자: 생성된 이미지 확인 후 카카오톡 발송 요청.
