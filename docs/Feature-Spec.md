# RiderFlow Feature Spec (세부)

## 대시보드

- 요약 카드: 총 배달 건수, 총 정산액, 기사 수, 미발송 정산표.
- Top 라이더: 수익 내림차순 상위 N(기본 5) 리스트, 클릭 시 상세 이동.
- 최근 업로드: 파일명/업로드 시각/기간/처리상태/오류 여부, 정산 보기·다시 업로드.
- 기사별 최근 정산 테이블: 정렬(수익/건수), 검색(이름/전화), 페이지네이션, 상세 이동.

## 정산 업로드

- 입력: XLS/XLSX 업로드(Drag&Drop), 진행 상태(업로드→파싱→검증).
- 파싱: 전화번호/이름/라이더ID 매칭, 필수 컬럼 누락·형식 오류 감지.
- 고급: 컬럼 매핑 UI(지사별 포맷 대응), 템플릿 다운로드.
- 오류 핸들링: 오류 리스트 CSV 다운로드, 다시 업로드 버튼, 부분 성공 시 성공/실패 카운트 표시.

## 정산 결과(요약)

- 요약 지표: 총 건수/정산액/라이더 수.
- 필터: 기간, 기사, 금액 범위.
- 다운로드: PDF/엑셀, 일괄 다운로드(선택 기간).
- 링크: 기사별 상세 진입 링크.

## 기사별 정산 상세

- 프로필: 이름, 전화번호, 소속 지사.
- 그래프: 기간별 정산액/건수 추이.
- 테이블: 세부 항목(DailySettlement 컬럼 기반), 정렬/필터.
- 액션: 정산서 PDF 생성, 다운로드.

## 지난 정산 내역

- 리스트: 업로드 파일/기간/상태/오류 여부.
- 기능: 검색/필터(기간/지사), 재다운로드, 재분석 트리거.

## 기사 관리

- 등록: 업로드 기반 자동 등록 + 수동 등록.
- 편집: 이름/전화/계좌/지사 연결 상태 변경.
- 연결: RiderBranchMap 관리, 정산 히스토리 링크.

## 지사 설정

- 지사 프로필: 이름, 지역, 로고/컬러(정산서 테마).
- 권한: 본사/지사/회계 롤 설정, 멤버 초대/삭제.
- 정산 공식: 공제율, 위험부담금 등 기본값 저장.

## 알림센터

- 데이터: MessageLog(성공/실패, 응답코드, 이미지 URL, 발송 시각).
- 기능: 기간/상태 필터, 재발송 트리거(후순위).

